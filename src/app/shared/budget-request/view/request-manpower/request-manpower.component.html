<div class="root-container">
    <div style="display: flex; justify-content: space-between; width: 100%;">
        <div class="section-title"><i class="bi bi-people mx-1"></i>Manpower</div>
        <div><i style="cursor: pointer;" (click)="toggleEdit()" class="bi bi-pencil-square"></i></div>
    </div>
    <div class="table-container">
        <table style="width: 100%;" [ngClass]="{'inactiveEdit':isEditable}">
            <thead>
                <tr>
                    <th style="border-top-left-radius: 15px;" class="data-label"></th>
                    <th style="border-top-right-radius: 15px;" class="data-label">Name/s</th>
                </tr>
            </thead>
            <tbody>
                @for (i of manpowerList(); track i) {
                    <tr>
                        <td>
                            <img 
                            class="employee-image"
                            [src]="i.image ? i.image : 'assets/images/common/defaults/default_user.png' " 
                            alt="employee image">
                        </td>
                        <td>
                            <div style="display: flex; align-items: center;">
                                <input 
                                    style="flex:1; text-align: left;" 
                                    type="text" 
                                    [value]="i.firstname + (i.middlename ? ' ' + i.middlename : ' ') + i.lastname" 
                                    [readOnly]="!isEditable">
                                @if (isEditable) {
                                        <i class="action-del bi bi-trash mx-2"></i>
                                }
                            </div>
                        </td>
                    </tr>
                }
                @if (isEditable) {
                    <tr>
                        <td>
                            <input style="text-align: center;" type="text" [readOnly]="!isEditable">
                        </td>
                        <td>
                            <div style="display: flex; align-items: center;">
                                <input style="flex:1; text-align: center;" type="text" [readOnly]="!isEditable">
                                @if (isEditable) {
                                    <i (click)="addManpower()" class="action-add bi bi-plus-square-fill mx-2"></i>
                                }
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div>
        @if (isEditable == true) {
            <div style="text-align: right; margin-top: 10px;" >  
                <button-component (click)="addManpower()" text="Save" type="primary"></button-component>
            </div>
        }
    </div>
</div>
